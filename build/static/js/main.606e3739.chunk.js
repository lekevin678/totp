(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,s){},31:function(e,t,s){},40:function(e,t,s){},44:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(1),n=s.n(c),i=s(23),r=s.n(i),l=s(7),o=s(8),d=s(10),h=s(9),j=s(13),m=s(2),u=(s(30),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"homeBody",children:[Object(a.jsxs)("div",{className:"homeMain",children:[Object(a.jsx)("div",{className:"mainTitle",children:" Time-based One Time Password "}),Object(a.jsxs)("div",{className:"mainInfo",children:[" ",'This application is a two-factor authentication code generator that provides users a six digit code to enter. Similar to Google\'s "Google Authenticator" (GA), this application uses Time-based One Time Password and HMAC-based One Time Password to create the code.',Object(a.jsx)("h2",{children:"Download the GA app and compare the codes!"})," "]})]}),Object(a.jsxs)("a",{href:"/totp",children:[Object(a.jsx)("i",{className:"arrows fas fa-chevron-right fa-5x"})," "]}),Object(a.jsxs)("div",{className:"instrSection",children:[Object(a.jsxs)("div",{className:"instrCol",children:[Object(a.jsx)("i",{class:"fas fa-key fa-3x"}),Object(a.jsx)("h5",{className:"instrHeader",children:"Enter Email and Secret "}),Object(a.jsxs)("p",{children:[" ","The secret must be Base-32, meaning length must be a multiple of 8 and only contains letters a-z and digits 2-7 (inclusive)."," "]})]}),Object(a.jsxs)("div",{className:"instrCol",children:[Object(a.jsx)("i",{class:"fas fa-download fa-3x"}),Object(a.jsx)("h5",{className:"instrHeader",children:"Download the GA App "}),Object(a.jsxs)("p",{children:[" ",Object(a.jsx)("a",{href:"https://apps.apple.com/us/app/google-authenticator/id388497605",target:"_blank",rel:"noopener noreferrer",style:{color:"#595959",textDecoration:"none"},children:"IOS"})," ",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en_US&gl=US",target:"_blank",rel:"noopener noreferrer",style:{color:"#595959",textDecoration:"none"},children:"Android"})]})]}),Object(a.jsxs)("div",{className:"instrCol",children:[Object(a.jsx)("i",{class:"fas fa-qrcode fa-3x"}),Object(a.jsx)("h5",{className:"instrHeader",children:"Scan QR code "}),Object(a.jsxs)("p",{children:[" ","Scan the QR code provided by this application to get the same email and secret on to Google's app."]})]}),Object(a.jsxs)("div",{className:"instrCol",children:[Object(a.jsx)("i",{class:"fas fa-equals fa-3x"}),Object(a.jsx)("h5",{className:"instrHeader",children:"Compare Codes "}),Object(a.jsxs)("p",{children:[" ","Due to time syncronization issues, this application provides the previous, current, and next code. The code provided by Google's app should be the same as the one found with this application."]})]})]})]})}}]),s}(c.Component)),b=(s(31),s(32)),p=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={totpCodePrev:"",totpCode:"",totpCodeNext:"",intervalId:0,timerId:0,timer:30,email:"test123@gmail.com",emailValid:"False",secret:"JBSWY3DPEHPK3PXP",secretValid:"False",secretLength:"False",secretChars:"False"},a.setTimer=function(){0!==a.state.timerId&&clearInterval(a.state.timerId),a.setState({timer:30}),a.setState({timerId:setInterval((function(){a.setState({timer:a.state.timer-1})}),1e3)})},a.tokenize=function(e){for(var t=0,s=0,c="",n="",i="";"!"!==e[t];){switch("&"===e[t]&&(t++,s++),s){case 0:c+=e[t];break;case 1:n+=e[t];break;case 2:i+=e[t];break;default:continue}t++}a.setState({totpCodePrev:c,totpCode:n,totpCodeNext:i,timer:30})},a.callApi=function(){fetch("/api?email=lekevin678@gmail.com&secret=".concat(a.state.secret)).then((function(e){return e.text()})).then((function(e){return a.tokenize(e)}))},a.getCode=function(){0!==a.state.intervalId&&clearInterval(a.state.intervalId),a.callApi(),a.setState({intervalId:setInterval((function(){a.callApi()}),3e4)}),a.setTimer()},a.checkEmail=function(e){var t=document.getElementById("generateButton"),s=document.getElementsByClassName("emailInput")[0];if(0===e.target.value.length)return t.disabled="disabled",a.setState({emailValid:"False"}),s.classList.contains("valid")&&s.classList.remove("valid"),void s.classList.add("notValid");a.setState({emailValid:"True"}),s.classList.contains("notValid")&&s.classList.remove("notValid"),s.classList.add("valid"),a.setState({emailValid:"True"},(function(){"True"===a.state.secretValid&&"True"===a.state.emailValid&&(t.disabled="")}))},a.checkSecret=function(e){var t=document.getElementById("generateButton"),s=document.getElementsByClassName("secretInput")[0],c=!0,n=e.target.value.toUpperCase();!1===a.checkSecretLength(n)?(a.setState({secretValid:"False"}),a.setState({secretLength:"False"}),c=!1,t.disabled="disabled",s.classList.contains("valid")&&s.classList.remove("valid"),s.classList.add("notValid")):a.setState({secretLength:"True"}),console.log(n),!1===a.checkSecretChars(n)?(a.setState({secretValid:"False"}),a.setState({secretChars:"False"}),c=!1,t.disabled="disabled",s.classList.contains("valid")&&s.classList.remove("valid"),s.classList.add("notValid")):a.setState({secretChars:"True"}),c&&(s.classList.contains("notValid")&&s.classList.remove("notValid"),s.classList.add("valid"),a.setState({secretValid:"True"},(function(){"True"===a.state.secretValid&&"True"===a.state.emailValid&&(t.disabled="")})))},a.doGenerate=function(){console.log("here"),a.setState({email:a.emailRef.current.value}),"True"===a.state.secretValid&&a.setState({secret:a.secretRef.current.value.toUpperCase()},a.getCode)},a.secretRef=n.a.createRef(),a.emailRef=n.a.createRef(),a}return Object(o.a)(s,[{key:"checkSecretLength",value:function(e){return 0!==e.length&&e.length%8===0}},{key:"checkSecretChars",value:function(e){var t;if(0===e.length)return!1;for(var s=0;s<e.length;s++)if(((t=e[s].charCodeAt(0))<65||t>90)&&(t<50||t>55))return!1;return!0}},{key:"componentDidMount",value:function(){this.getCode(),document.getElementById("generateButton").disabled="disabled"}},{key:"componentWillUnmount",value:function(){0!==this.state.timerId&&clearInterval(this.state.timerId),0!==this.state.intervalId&&clearInterval(this.state.intervalId)}},{key:"render",value:function(){var e;e="True"===this.state.secretLength?"fontValid":"fontNotValid";var t;return t="True"===this.state.secretChars?"fontValid":"fontNotValid",Object(a.jsxs)("div",{className:"totpBody",children:[Object(a.jsxs)("a",{href:"/",children:[" ",Object(a.jsx)("i",{class:"arrows fas fa-chevron-left fa-5x"})]}),Object(a.jsx)("table",{className:"codeTable",children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{className:"codeHeading",children:[Object(a.jsx)("th",{children:"PREV TOTP Code"}),Object(a.jsx)("th",{children:"TOTP Code "}),Object(a.jsx)("th",{children:"NEXT TOTP Code "})]}),Object(a.jsxs)("tr",{className:"codeCode",children:[Object(a.jsx)("td",{children:this.state.totpCodePrev}),Object(a.jsx)("td",{children:this.state.totpCode}),Object(a.jsx)("td",{children:this.state.totpCodeNext})]}),Object(a.jsxs)("tr",{className:"codeTimer",children:[Object(a.jsx)("td",{children:this.state.timer}),Object(a.jsx)("td",{children:this.state.timer}),Object(a.jsx)("td",{children:this.state.timer})]})]})}),Object(a.jsxs)("div",{className:"infoBody",children:[Object(a.jsxs)("div",{className:"infoLeft",children:[Object(a.jsx)("input",{ref:this.emailRef,onChange:this.checkEmail,placeholder:"Email",className:"emailInput notValid"})," ",Object(a.jsx)("br",{}),Object(a.jsx)("input",{ref:this.secretRef,onChange:this.checkSecret,placeholder:"Secret",className:"secretInput notValid"})," ",Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"secretReqs",children:[Object(a.jsx)("div",{className:e,children:"Secret length multiple of 8 (8,16,24...)"}),Object(a.jsxs)("div",{className:t,children:["Secret only contains letters a-z and number 2-7 (INCLUSIVE)"," "]})]}),Object(a.jsxs)("button",{id:"generateButton",onClick:this.doGenerate,children:[" ","Generate"," "]})]}),Object(a.jsxs)("div",{className:"infoRight",children:[Object(a.jsx)("div",{className:"currentTitle",children:" Current "}),Object(a.jsxs)("div",{className:"currentInfo currentEmail",children:[Object(a.jsx)("div",{className:"currentInfoTitle",children:" Email "}),Object(a.jsxs)("p",{children:[" ",this.state.email," "]})]}),Object(a.jsxs)("div",{className:"currentInfo currentSecret",children:[Object(a.jsx)("div",{className:"currentInfoTitle",children:" Secret "}),Object(a.jsxs)("p",{children:[" ",this.state.secret," "]})]}),Object(a.jsx)("div",{className:"qrCodeWrapper",children:Object(a.jsxs)("div",{id:"qrcode",children:[" ",Object(a.jsx)(b,{renderAs:"svg",height:"85%",width:"85%",x:"0",value:"otpauth://totp/Provider1:".concat(this.state.email,"?secret=").concat(this.state.secret,"&issuer=Provider1")})]})})]})]})]})}}]),s}(c.Component),O=(s(40),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(a.jsx)(j.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("nav",{className:"navBarWrapper",children:Object(a.jsxs)("ul",{className:"navBar",children:[Object(a.jsx)("li",{children:Object(a.jsxs)(j.b,{to:"/",style:{textDecoration:"none"},children:[" ","Home"," "]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(j.b,{to:"/totp",style:{textDecoration:"none"},children:[" ","TOTP"," "]})})]})}),Object(a.jsx)(m.a,{path:"/",exact:!0,component:u}),Object(a.jsx)(m.a,{path:"/totp",exact:!0,component:p})]})})}}]),s}(c.Component)),f=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(a.jsxs)(n.a.Fragment,{children:[Object(a.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto"}),Object(a.jsx)("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.8.1/css/all.css",crossorigin:"anonymous"}),Object(a.jsx)(O,{})]})}}]),s}(c.Component);r.a.render(Object(a.jsx)(f,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.606e3739.chunk.js.map